<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="10083pt" height="3715pt"
 viewBox="0.00 0.00 10082.60 3714.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 3710.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-3710.8 10078.5997,-3710.8 10078.5997,4 -4,4"/>
<!-- 9 -->
<g id="node1" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1704.1335,-1558.9 1704.1335,-2120.5 2382.2313,-2120.5 2382.2313,-1558.9 1704.1335,-1558.9"/>
<text text-anchor="middle" x="2043.1824" y="-2103.9" font-family="Times,serif" font-size="14.00" fill="#000000">TxPermissionHbbft</text>
<polyline fill="none" stroke="#000000" points="1704.1335,-2095.7 2382.2313,-2095.7 "/>
<text text-anchor="start" x="1712.1335" y="-2079.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1712.1335" y="-2062.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_allowedSenders: address[]</text>
<text text-anchor="start" x="1712.1335" y="-2045.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;NONE: uint32</text>
<text text-anchor="start" x="1712.1335" y="-2028.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ALL: uint32</text>
<text text-anchor="start" x="1712.1335" y="-2011.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BASIC: uint32</text>
<text text-anchor="start" x="1712.1335" y="-1995.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CALL: uint32</text>
<text text-anchor="start" x="1712.1335" y="-1978.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CREATE: uint32</text>
<text text-anchor="start" x="1712.1335" y="-1961.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRIVATE: uint32</text>
<text text-anchor="start" x="1712.1335" y="-1944.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REPORT_MALICIOUS_SIGNATURE: bytes4</text>
<text text-anchor="start" x="1712.1335" y="-1927.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REVEAL_SECRET_SIGNATURE: bytes4</text>
<text text-anchor="start" x="1712.1335" y="-1911.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REVEAL_NUMBER_SIGNATURE: bytes4</text>
<text text-anchor="start" x="1712.1335" y="-1894.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1712.1335" y="-1877.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;certifierContract: ICertifier</text>
<text text-anchor="start" x="1712.1335" y="-1860.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isSenderAllowed: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="1712.1335" y="-1843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<text text-anchor="start" x="1712.1335" y="-1827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BLOCK_GAS_LIMIT: uint256</text>
<text text-anchor="start" x="1712.1335" y="-1810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BLOCK_GAS_LIMIT_REDUCED: uint256</text>
<polyline fill="none" stroke="#000000" points="1704.1335,-1802.1 2382.2313,-1802.1 "/>
<text text-anchor="start" x="1712.1335" y="-1785.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1712.1335" y="-1768.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addAllowedSender(_sender: address)</text>
<text text-anchor="start" x="1712.1335" y="-1751.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1712.1335" y="-1735.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_allowed: address[], _certifier: address, _validatorSet: address)</text>
<text text-anchor="start" x="1712.1335" y="-1718.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1712.1335" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="1712.1335" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addAllowedSender(_sender: address)</text>
<text text-anchor="start" x="1712.1335" y="-1667.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeAllowedSender(_sender: address)</text>
<text text-anchor="start" x="1712.1335" y="-1651.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;contractName(): string</text>
<text text-anchor="start" x="1712.1335" y="-1634.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;contractNameHash(): bytes32</text>
<text text-anchor="start" x="1712.1335" y="-1617.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;contractVersion(): uint256</text>
<text text-anchor="start" x="1712.1335" y="-1600.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowedSenders(): address[]</text>
<text text-anchor="start" x="1712.1335" y="-1583.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowedTxTypes(_sender: address, _to: address, _gasPrice: uint256, _data: bytes): (typesMask: uint32, cache: bool)</text>
<text text-anchor="start" x="1712.1335" y="-1567.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
</g>
<!-- 19 -->
<g id="node22" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2043.7132,-2963.9 2043.7132,-3088.7 2262.6516,-3088.7 2262.6516,-2963.9 2043.7132,-2963.9"/>
<text text-anchor="middle" x="2153.1824" y="-3072.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2153.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">ICertifier</text>
<polyline fill="none" stroke="#000000" points="2043.7132,-3047.1 2262.6516,-3047.1 "/>
<text text-anchor="middle" x="2153.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2043.7132,-3022.3 2262.6516,-3022.3 "/>
<text text-anchor="start" x="2051.7132" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2051.7132" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;certifiedExplicitly(address): bool</text>
<text text-anchor="start" x="2051.7132" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address[], address)</text>
</g>
<!-- 9&#45;&gt;19 -->
<g id="edge5" class="edge">
<title>9&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M2069.216,-2120.5318C2094.5633,-2393.9593 2131.3959,-2791.2834 2146.4207,-2953.3596"/>
<polygon fill="#000000" stroke="#000000" points="2142.9703,-2954.0571 2147.3785,-2963.6913 2149.9404,-2953.4109 2142.9703,-2954.0571"/>
</g>
<!-- 27 -->
<g id="node30" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2529.649,-2972.3 2529.649,-3080.3 2770.7158,-3080.3 2770.7158,-2972.3 2529.649,-2972.3"/>
<text text-anchor="middle" x="2650.1824" y="-3063.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2650.1824" y="-3046.9" font-family="Times,serif" font-size="14.00" fill="#000000">ITxPermission</text>
<polyline fill="none" stroke="#000000" points="2529.649,-3038.7 2770.7158,-3038.7 "/>
<text text-anchor="middle" x="2650.1824" y="-3022.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2529.649,-3013.9 2770.7158,-3013.9 "/>
<text text-anchor="start" x="2537.649" y="-2997.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2537.649" y="-2980.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address[], address, address)</text>
</g>
<!-- 9&#45;&gt;27 -->
<g id="edge4" class="edge">
<title>9&#45;&gt;27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2082.0737,-2120.6374C2124.5149,-2323.0233 2212.1074,-2588.1167 2391.1824,-2751 2435.5326,-2791.3402 2474.3124,-2749.6172 2521.1824,-2787 2571.1901,-2826.8854 2604.4041,-2891.6091 2624.59,-2943.6929"/>
<polygon fill="none" stroke="#000000" points="2614.8248,-2947.5664 2634.8706,-2972.2325 2634.582,-2940.4494 2614.8248,-2947.5664"/>
</g>
<!-- 28 -->
<g id="node31" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5681.5199,-2795.9 5681.5199,-3256.7 6078.8449,-3256.7 6078.8449,-2795.9 5681.5199,-2795.9"/>
<text text-anchor="middle" x="5880.1824" y="-3240.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5880.1824" y="-3223.3" font-family="Times,serif" font-size="14.00" fill="#000000">IValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="5681.5199,-3215.1 6078.8449,-3215.1 "/>
<text text-anchor="middle" x="5880.1824" y="-3198.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5681.5199,-3190.3 6078.8449,-3190.3 "/>
<text text-anchor="start" x="5689.5199" y="-3173.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5689.5199" y="-3156.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isValidator(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-3140.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address, address, address, address, address[], address[])</text>
<text text-anchor="start" x="5689.5199" y="-3123.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newValidatorSet()</text>
<text text-anchor="start" x="5689.5199" y="-3106.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeMaliciousValidators(address[])</text>
<text text-anchor="start" x="5689.5199" y="-3089.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setStakingAddress(address, address)</text>
<text text-anchor="start" x="5689.5199" y="-3072.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;areDelegatorsBanned(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-3056.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;blockRewardContract(): address</text>
<text text-anchor="start" x="5689.5199" y="-3039.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPendingValidators(): address[]</text>
<text text-anchor="start" x="5689.5199" y="-3022.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPreviousValidators(): address[]</text>
<text text-anchor="start" x="5689.5199" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getValidators(): address[]</text>
<text text-anchor="start" x="5689.5199" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isReportValidatorValid(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;finalizeChange()</text>
<text text-anchor="start" x="5689.5199" y="-2955.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isValidatorBanned(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-2938.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isValidatorOrPending(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-2921.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPendingValidator(address): bool</text>
<text text-anchor="start" x="5689.5199" y="-2904.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;MAX_VALIDATORS(): uint256</text>
<text text-anchor="start" x="5689.5199" y="-2888.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;miningByStakingAddress(address): address</text>
<text text-anchor="start" x="5689.5199" y="-2871.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;randomContract(): address</text>
<text text-anchor="start" x="5689.5199" y="-2854.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;reportMaliciousCallable(address, address, uint256): (bool, bool)</text>
<text text-anchor="start" x="5689.5199" y="-2837.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingByMiningAddress(address): address</text>
<text text-anchor="start" x="5689.5199" y="-2820.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingContract(): address</text>
<text text-anchor="start" x="5689.5199" y="-2804.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCurrentTimestamp(): uint256</text>
</g>
<!-- 9&#45;&gt;28 -->
<g id="edge6" class="edge">
<title>9&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M2068.8461,-2120.5366C2104.4155,-2331.691 2189.1991,-2608.2 2391.1824,-2751 2457.0703,-2797.5821 3762.6935,-2781.2866 3843.1824,-2787 4513.6959,-2834.5953 5303.0037,-2942.1233 5671.2875,-2995.3114"/>
<polygon fill="#000000" stroke="#000000" points="5670.8555,-2998.7852 5681.2535,-2996.7523 5671.8572,-2991.8573 5670.8555,-2998.7852"/>
</g>
<!-- 37 -->
<g id="node40" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1840.3893,-2980.7 1840.3893,-3071.9 2025.9755,-3071.9 2025.9755,-2980.7 1840.3893,-2980.7"/>
<text text-anchor="middle" x="1933.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">UpgradeableOwned</text>
<polyline fill="none" stroke="#000000" points="1840.3893,-3047.1 2025.9755,-3047.1 "/>
<text text-anchor="middle" x="1933.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1840.3893,-3022.3 2025.9755,-3022.3 "/>
<text text-anchor="start" x="1848.3893" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1848.3893" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
</g>
<!-- 9&#45;&gt;37 -->
<g id="edge3" class="edge">
<title>9&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M2017.1488,-2120.5318C1991.9522,-2392.3337 1955.4064,-2786.5634 1940.2144,-2950.444"/>
<polygon fill="none" stroke="#000000" points="1929.7439,-2949.6413 1937.4298,-2980.4825 1950.6542,-2951.5798 1929.7439,-2949.6413"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="779.3661,-50.9 779.3661,-125.3 904.9987,-125.3 904.9987,-50.9 779.3661,-50.9"/>
<text text-anchor="middle" x="842.1824" y="-108.7" font-family="Times,serif" font-size="14.00" fill="#000000">BlockRewardHbbft</text>
<polyline fill="none" stroke="#000000" points="779.3661,-100.5 904.9987,-100.5 "/>
<text text-anchor="middle" x="842.1824" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="779.3661,-75.7 904.9987,-75.7 "/>
<text text-anchor="middle" x="842.1824" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 13 -->
<g id="node15" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="464.245,-489.9 464.245,-614.7 1220.1198,-614.7 1220.1198,-489.9 464.245,-489.9"/>
<text text-anchor="middle" x="842.1824" y="-598.1" font-family="Times,serif" font-size="14.00" fill="#000000">BlockRewardHbbftCoins</text>
<polyline fill="none" stroke="#000000" points="464.245,-589.9 1220.1198,-589.9 "/>
<text text-anchor="middle" x="842.1824" y="-573.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="464.245,-565.1 1220.1198,-565.1 "/>
<text text-anchor="start" x="472.245" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="472.245" y="-531.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferReward(_nativeCoins: uint256, _to: address)</text>
<text text-anchor="start" x="472.245" y="-514.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDelegatorReward(_delegatorStake: uint256, _stakingEpoch: uint256, _poolMiningAddress: address): (nativeReward: uint256)</text>
<text text-anchor="start" x="472.245" y="-498.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getValidatorReward(_stakingEpoch: uint256, _poolMiningAddress: address): (nativeReward: uint256)</text>
</g>
<!-- 0&#45;&gt;13 -->
<g id="edge7" class="edge">
<title>0&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M842.1824,-125.3027C842.1824,-197.1702 842.1824,-357.0198 842.1824,-459.4549"/>
<polygon fill="none" stroke="#000000" points="831.6825,-459.5583 842.1824,-489.5583 852.6825,-459.5583 831.6825,-459.5583"/>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7438.002,-1676.5 7438.002,-2002.9 8008.3628,-2002.9 8008.3628,-1676.5 7438.002,-1676.5"/>
<text text-anchor="middle" x="7723.1824" y="-1986.3" font-family="Times,serif" font-size="14.00" fill="#000000">KeyGenHistory</text>
<polyline fill="none" stroke="#000000" points="7438.002,-1978.1 8008.3628,-1978.1 "/>
<text text-anchor="start" x="7446.002" y="-1961.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7446.002" y="-1944.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSet: address[]</text>
<text text-anchor="start" x="7446.002" y="-1927.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;parts: mapping(address=&gt;bytes)</text>
<text text-anchor="start" x="7446.002" y="-1911.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;acks: mapping(address=&gt;bytes[])</text>
<text text-anchor="start" x="7446.002" y="-1894.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="7438.002,-1886.1 8008.3628,-1886.1 "/>
<text text-anchor="start" x="7446.002" y="-1869.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7446.002" y="-1852.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;clearPrevKeyGenState(_prevValidators: address[])</text>
<text text-anchor="start" x="7446.002" y="-1835.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;writePart(_part: bytes)</text>
<text text-anchor="start" x="7446.002" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;writeAck(_ack: bytes)</text>
<text text-anchor="start" x="7446.002" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7446.002" y="-1785.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewValidatorsSet(newValidatorSet: address[])</text>
<text text-anchor="start" x="7446.002" y="-1768.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="7446.002" y="-1751.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySystem()</text>
<text text-anchor="start" x="7446.002" y="-1735.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyValidatorSet()</text>
<text text-anchor="start" x="7446.002" y="-1718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_validatorSetContract: address, _validators: address[], _parts: bytes[], _acks: bytes[][])</text>
<text text-anchor="start" x="7446.002" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAcksLength(val: address): uint256</text>
<text text-anchor="start" x="7446.002" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
</g>
<!-- 20 -->
<g id="node23" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6931.6069,-2963.9 6931.6069,-3088.7 7224.7579,-3088.7 7224.7579,-2963.9 6931.6069,-2963.9"/>
<text text-anchor="middle" x="7078.1824" y="-3072.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="7078.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">IKeyGenHistory</text>
<polyline fill="none" stroke="#000000" points="6931.6069,-3047.1 7224.7579,-3047.1 "/>
<text text-anchor="middle" x="7078.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6931.6069,-3022.3 7224.7579,-3022.3 "/>
<text text-anchor="start" x="6939.6069" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6939.6069" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address, address[], bytes[], bytes[][])</text>
<text text-anchor="start" x="6939.6069" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;clearPrevKeyGenState(address[])</text>
</g>
<!-- 3&#45;&gt;20 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7700.2197,-2003.2057C7666.7535,-2196.2529 7590.1078,-2520.2002 7429.1824,-2751 7373.4361,-2830.9516 7287.6696,-2898.8284 7214.8728,-2947.1795"/>
<polygon fill="none" stroke="#000000" points="7208.7095,-2938.6611 7189.228,-2963.7753 7220.1188,-2956.2914 7208.7095,-2938.6611"/>
</g>
<!-- 3&#45;&gt;28 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M7722.7223,-2003.2978C7712.3442,-2213.9383 7659.4528,-2573.8847 7429.1824,-2751 7368.8576,-2797.3996 6820.3004,-2774.7819 6745.1824,-2787 6516.6974,-2824.1636 6262.0848,-2898.7864 6088.6218,-2954.8742"/>
<polygon fill="#000000" stroke="#000000" points="6087.3047,-2951.6218 6078.8714,-2958.0351 6089.4634,-2958.2807 6087.3047,-2951.6218"/>
</g>
<!-- 35 -->
<g id="node38" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7205.4306,-3335.7 7205.4306,-3443.7 7376.9342,-3443.7 7376.9342,-3335.7 7205.4306,-3335.7"/>
<text text-anchor="middle" x="7291.1824" y="-3427.1" font-family="Times,serif" font-size="14.00" fill="#000000">UpgradeabilityAdmin</text>
<polyline fill="none" stroke="#000000" points="7205.4306,-3418.9 7376.9342,-3418.9 "/>
<text text-anchor="start" x="7213.4306" y="-3402.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7213.4306" y="-3385.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ADMIN_SLOT: bytes32</text>
<polyline fill="none" stroke="#000000" points="7205.4306,-3377.3 7376.9342,-3377.3 "/>
<text text-anchor="start" x="7213.4306" y="-3360.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7213.4306" y="-3343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_admin(): (adm: address)</text>
</g>
<!-- 3&#45;&gt;35 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7677.6656,-2003.0126C7586.2496,-2331.0097 7383.2071,-3059.5187 7314.4585,-3306.1861"/>
<polygon fill="none" stroke="#000000" points="7304.2431,-3303.7294 7306.3032,-3335.4471 7324.4721,-3309.3675 7304.2431,-3303.7294"/>
</g>
<!-- 4 -->
<g id="node4" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5598.142,-.5 5598.142,-175.7 5804.2228,-175.7 5804.2228,-.5 5598.142,-.5"/>
<text text-anchor="middle" x="5701.1824" y="-159.1" font-family="Times,serif" font-size="14.00" fill="#000000">Migrations</text>
<polyline fill="none" stroke="#000000" points="5598.142,-150.9 5804.2228,-150.9 "/>
<text text-anchor="start" x="5606.142" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5606.142" y="-117.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="5606.142" y="-100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;last_completed_migration: uint</text>
<polyline fill="none" stroke="#000000" points="5598.142,-92.5 5804.2228,-92.5 "/>
<text text-anchor="start" x="5606.142" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5606.142" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; restricted()</text>
<text text-anchor="start" x="5606.142" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="5606.142" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCompleted(completed: uint)</text>
<text text-anchor="start" x="5606.142" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;upgrade(new_address: address)</text>
</g>
<!-- 4&#45;&gt;4 -->
<g id="edge11" class="edge">
<title>4&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5804.2718,-15.7358C5815.2042,-29.7677 5822.2228,-53.8891 5822.2228,-88.1 5822.2228,-116.1637 5817.4999,-137.4379 5809.7679,-151.9228"/>
<polygon fill="#000000" stroke="#000000" points="5806.7398,-150.1608 5804.2718,-160.4642 5812.6264,-153.9487 5806.7398,-150.1608"/>
</g>
<!-- 5 -->
<g id="node5" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7162.2714,-1701.7 7162.2714,-1977.7 7420.0934,-1977.7 7420.0934,-1701.7 7162.2714,-1701.7"/>
<text text-anchor="middle" x="7291.1824" y="-1961.1" font-family="Times,serif" font-size="14.00" fill="#000000">RandomHbbft</text>
<polyline fill="none" stroke="#000000" points="7162.2714,-1952.9 7420.0934,-1952.9 "/>
<text text-anchor="start" x="7170.2714" y="-1936.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7170.2714" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;currentSeed: uint256</text>
<text text-anchor="start" x="7170.2714" y="-1902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="7162.2714,-1894.5 7420.0934,-1894.5 "/>
<text text-anchor="start" x="7170.2714" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7170.2714" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_validatorSet: address)</text>
<text text-anchor="start" x="7170.2714" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCoinbase(): address</text>
<text text-anchor="start" x="7170.2714" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7170.2714" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCurrentSeed(_currentSeed: uint256)</text>
<text text-anchor="start" x="7170.2714" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_validatorSet: address)</text>
<text text-anchor="start" x="7170.2714" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7170.2714" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyBlockReward()</text>
<text text-anchor="start" x="7170.2714" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="7170.2714" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySystem()</text>
<text text-anchor="start" x="7170.2714" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
</g>
<!-- 23 -->
<g id="node26" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6754.2595,-2963.9 6754.2595,-3088.7 6914.1053,-3088.7 6914.1053,-2963.9 6754.2595,-2963.9"/>
<text text-anchor="middle" x="6834.1824" y="-3072.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6834.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">IRandomHbbft</text>
<polyline fill="none" stroke="#000000" points="6754.2595,-3047.1 6914.1053,-3047.1 "/>
<text text-anchor="middle" x="6834.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6754.2595,-3022.3 6914.1053,-3022.3 "/>
<text text-anchor="start" x="6762.2595" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6762.2595" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address)</text>
<text text-anchor="start" x="6762.2595" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;currentSeed(): uint256</text>
</g>
<!-- 5&#45;&gt;23 -->
<g id="edge13" class="edge">
<title>5&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7315.485,-1977.7475C7342.0129,-2177.7474 7356.8329,-2546.4698 7153.1824,-2751 7079.8683,-2824.6308 7002.5502,-2721.1406 6922.1824,-2787 6878.2736,-2822.9822 6856.2733,-2882.9689 6845.2504,-2933.879"/>
<polygon fill="none" stroke="#000000" points="6834.862,-2932.3153 6839.7673,-2963.7189 6855.5162,-2936.1106 6834.862,-2932.3153"/>
</g>
<!-- 5&#45;&gt;28 -->
<g id="edge14" class="edge">
<title>5&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M7316.9988,-1977.8739C7345.87,-2179.7587 7364.112,-2552.8149 7153.1824,-2751 7086.8496,-2813.325 6834.7478,-2770.7988 6745.1824,-2787 6517.3915,-2828.2045 6262.6673,-2902.1781 6088.9885,-2957.0093"/>
<polygon fill="#000000" stroke="#000000" points="6087.7041,-2953.7446 6079.2257,-2960.0982 6089.8157,-2960.4185 6087.7041,-2953.7446"/>
</g>
<!-- 5&#45;&gt;35 -->
<g id="edge12" class="edge">
<title>5&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7291.1824,-1977.9335C7291.1824,-2291.9245 7291.1824,-3051.296 7291.1824,-3305.324"/>
<polygon fill="none" stroke="#000000" points="7280.6825,-3305.4033 7291.1824,-3335.4033 7301.6825,-3305.4033 7280.6825,-3305.4033"/>
</g>
<!-- 6 -->
<g id="node6" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8403.9292,-1760.5 8403.9292,-1918.9 8736.4356,-1918.9 8736.4356,-1760.5 8403.9292,-1760.5"/>
<text text-anchor="middle" x="8570.1824" y="-1902.3" font-family="Times,serif" font-size="14.00" fill="#000000">Owned</text>
<polyline fill="none" stroke="#000000" points="8403.9292,-1894.1 8736.4356,-1894.1 "/>
<text text-anchor="start" x="8411.9292" y="-1877.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8411.9292" y="-1860.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<polyline fill="none" stroke="#000000" points="8403.9292,-1852.5 8736.4356,-1852.5 "/>
<text text-anchor="start" x="8411.9292" y="-1835.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8411.9292" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOwner(_new: address)</text>
<text text-anchor="start" x="8411.9292" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8411.9292" y="-1785.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewOwner(old: address, current: address)</text>
<text text-anchor="start" x="8411.9292" y="-1768.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
</g>
<!-- 7 -->
<g id="node7" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8743.6055,-212.7 8743.6055,-891.9 9190.7593,-891.9 9190.7593,-212.7 8743.6055,-212.7"/>
<text text-anchor="middle" x="8967.1824" y="-875.3" font-family="Times,serif" font-size="14.00" fill="#000000">Registry</text>
<polyline fill="none" stroke="#000000" points="8743.6055,-867.1 9190.7593,-867.1 "/>
<text text-anchor="start" x="8751.6055" y="-850.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8751.6055" y="-833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;entries: mapping(bytes32=&gt;Entry)</text>
<text text-anchor="start" x="8751.6055" y="-816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reverses: mapping(address=&gt;string)</text>
<text text-anchor="start" x="8751.6055" y="-800.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8751.6055" y="-783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fee: uint256</text>
<polyline fill="none" stroke="#000000" points="8743.6055,-775.1 9190.7593,-775.1 "/>
<text text-anchor="start" x="8751.6055" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8751.6055" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; reserve(_name: bytes32): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reserved(_name: bytes32): bool</text>
<text text-anchor="start" x="8751.6055" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;drop(_name: bytes32): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setData(_name: bytes32, _key: string, _value: bytes32): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAddress(_name: bytes32, _key: string, _value: address): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setUint(_name: bytes32, _key: string, _value: uint): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;proposeReverse(_name: string, _who: address): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;confirmReverse(_name: string): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;confirmReverseAs(_name: string, _who: address): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeReverse()</text>
<text text-anchor="start" x="8751.6055" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(_name: bytes32, _to: address): (success: bool)</text>
<text text-anchor="start" x="8751.6055" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;drain(): bool</text>
<text text-anchor="start" x="8751.6055" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getData(_name: bytes32, _key: string): bytes32</text>
<text text-anchor="start" x="8751.6055" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAddress(_name: bytes32, _key: string): address</text>
<text text-anchor="start" x="8751.6055" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUint(_name: bytes32, _key: string): uint</text>
<text text-anchor="start" x="8751.6055" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwner(_name: bytes32): address</text>
<text text-anchor="start" x="8751.6055" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasReverse(_name: bytes32): bool</text>
<text text-anchor="start" x="8751.6055" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getReverse(_name: bytes32): address</text>
<text text-anchor="start" x="8751.6055" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;canReverse(_data: address): bool</text>
<text text-anchor="start" x="8751.6055" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reverse(_data: address): string</text>
<text text-anchor="start" x="8751.6055" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFee(_amount: uint): bool</text>
<text text-anchor="start" x="8751.6055" y="-388.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8751.6055" y="-372.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Drained(amount: uint)</text>
<text text-anchor="start" x="8751.6055" y="-355.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeChanged(amount: uint)</text>
<text text-anchor="start" x="8751.6055" y="-338.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReverseProposed(name: string, reverse: address)</text>
<text text-anchor="start" x="8751.6055" y="-321.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; whenUnreserved(_name: bytes32)</text>
<text text-anchor="start" x="8751.6055" y="-304.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwnerOf(_name: bytes32)</text>
<text text-anchor="start" x="8751.6055" y="-288.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; whenProposed(_name: string)</text>
<text text-anchor="start" x="8751.6055" y="-271.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; whenEntry(_name: string)</text>
<text text-anchor="start" x="8751.6055" y="-254.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; whenEntryRaw(_name: bytes32)</text>
<text text-anchor="start" x="8751.6055" y="-237.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; whenFeePaid()</text>
<text text-anchor="start" x="8751.6055" y="-220.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_certifierContract: address, _owner: address)</text>
</g>
<!-- 7&#45;&gt;6 -->
<g id="edge15" class="edge">
<title>7&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M8759.9089,-892.119C8754.673,-904.2294 8749.7409,-916.3433 8745.1824,-928.4 8640.2138,-1206.0274 8595.6938,-1556.0405 8578.9822,-1730.4608"/>
<polygon fill="none" stroke="#000000" points="8568.518,-1729.5903 8576.2213,-1760.4271 8589.4294,-1731.517 8568.518,-1729.5903"/>
</g>
<!-- 21 -->
<g id="node24" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8754.0537,-1752.1 8754.0537,-1927.3 9180.3111,-1927.3 9180.3111,-1752.1 8754.0537,-1752.1"/>
<text text-anchor="middle" x="8967.1824" y="-1910.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="8967.1824" y="-1893.9" font-family="Times,serif" font-size="14.00" fill="#000000">IMetadataRegistry</text>
<polyline fill="none" stroke="#000000" points="8754.0537,-1885.7 9180.3111,-1885.7 "/>
<text text-anchor="middle" x="8967.1824" y="-1869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8754.0537,-1860.9 9180.3111,-1860.9 "/>
<text text-anchor="start" x="8762.0537" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8762.0537" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getData(_name: bytes32, _key: string): bytes32</text>
<text text-anchor="start" x="8762.0537" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAddress(_name: bytes32, _key: string): address</text>
<text text-anchor="start" x="8762.0537" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getUint(_name: bytes32, _key: string): uint</text>
<text text-anchor="start" x="8762.0537" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8762.0537" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DataChanged(name: bytes32, key: string, plainKey: string)</text>
</g>
<!-- 7&#45;&gt;21 -->
<g id="edge16" class="edge">
<title>7&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8967.1824,-892.2332C8967.1824,-1166.1397 8967.1824,-1535.2601 8967.1824,-1721.5887"/>
<polygon fill="none" stroke="#000000" points="8956.6825,-1721.7683 8967.1824,-1751.7684 8977.6825,-1721.7684 8956.6825,-1721.7683"/>
</g>
<!-- 22 -->
<g id="node25" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9198.487,-1752.1 9198.487,-1927.3 9679.8778,-1927.3 9679.8778,-1752.1 9198.487,-1752.1"/>
<text text-anchor="middle" x="9439.1824" y="-1910.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9439.1824" y="-1893.9" font-family="Times,serif" font-size="14.00" fill="#000000">IOwnerRegistry</text>
<polyline fill="none" stroke="#000000" points="9198.487,-1885.7 9679.8778,-1885.7 "/>
<text text-anchor="middle" x="9439.1824" y="-1869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9198.487,-1860.9 9679.8778,-1860.9 "/>
<text text-anchor="start" x="9206.487" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9206.487" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getOwner(_name: bytes32): address</text>
<text text-anchor="start" x="9206.487" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9206.487" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Reserved(name: bytes32, owner: address)</text>
<text text-anchor="start" x="9206.487" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transferred(name: bytes32, oldOwner: address, newOwner: address)</text>
<text text-anchor="start" x="9206.487" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Dropped(name: bytes32, owner: address)</text>
</g>
<!-- 7&#45;&gt;22 -->
<g id="edge17" class="edge">
<title>7&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9172.9889,-892.0797C9178.6632,-904.227 9184.0832,-916.3557 9189.1824,-928.4 9305.227,-1202.4969 9382.3555,-1545.8042 9417.4424,-1722.5494"/>
<polygon fill="none" stroke="#000000" points="9407.1433,-1724.5941 9423.2081,-1752.0198 9427.7525,-1720.5619 9407.1433,-1724.5941"/>
</g>
<!-- 24 -->
<g id="node27" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9697.7651,-1735.3 9697.7651,-1944.1 10074.5997,-1944.1 10074.5997,-1735.3 9697.7651,-1735.3"/>
<text text-anchor="middle" x="9886.1824" y="-1927.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9886.1824" y="-1910.7" font-family="Times,serif" font-size="14.00" fill="#000000">IReverseRegistry</text>
<polyline fill="none" stroke="#000000" points="9697.7651,-1902.5 10074.5997,-1902.5 "/>
<text text-anchor="middle" x="9886.1824" y="-1885.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9697.7651,-1877.7 10074.5997,-1877.7 "/>
<text text-anchor="start" x="9705.7651" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9705.7651" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;hasReverse(_name: bytes32): bool</text>
<text text-anchor="start" x="9705.7651" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getReverse(_name: bytes32): address</text>
<text text-anchor="start" x="9705.7651" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;canReverse(_data: address): bool</text>
<text text-anchor="start" x="9705.7651" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;reverse(_data: address): string</text>
<text text-anchor="start" x="9705.7651" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9705.7651" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReverseConfirmed(name: string, reverse: address)</text>
<text text-anchor="start" x="9705.7651" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReverseRemoved(name: string, reverse: address)</text>
</g>
<!-- 7&#45;&gt;24 -->
<g id="edge18" class="edge">
<title>7&#45;&gt;24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9190.8093,-612.6509C9353.4593,-668.1617 9565.9485,-766.8739 9689.1824,-928.4 9865.0511,-1158.916 9891.2558,-1513.0095 9891.1349,-1704.8851"/>
<polygon fill="none" stroke="#000000" points="9880.6337,-1705.0081 9890.8955,-1735.0904 9901.633,-1705.1746 9880.6337,-1705.0081"/>
</g>
<!-- 7struct0 -->
<g id="node8" class="node">
<title>7struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8869.056,-29.7 8869.056,-146.5 9065.3088,-146.5 9065.3088,-29.7 8869.056,-29.7"/>
<text text-anchor="middle" x="8967.1824" y="-129.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8967.1824" y="-113.1" font-family="Times,serif" font-size="14.00" fill="#000000">Entry</text>
<polyline fill="none" stroke="#000000" points="8869.056,-104.9 9065.3088,-104.9 "/>
<text text-anchor="start" x="8877.056" y="-88.3" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="8877.056" y="-71.5" font-family="Times,serif" font-size="14.00" fill="#000000">reverse: address</text>
<text text-anchor="start" x="8877.056" y="-54.7" font-family="Times,serif" font-size="14.00" fill="#000000">deleted: bool</text>
<text text-anchor="start" x="8877.056" y="-37.9" font-family="Times,serif" font-size="14.00" fill="#000000">data: mapping(string=&gt;bytes32)</text>
</g>
<!-- 7struct0&#45;&gt;7 -->
<g id="edge1" class="edge">
<title>7struct0&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M8967.1824,-146.8913C8967.1824,-162.5212 8967.1824,-180.5872 8967.1824,-200.235"/>
<polygon fill="#000000" stroke="#000000" points="8967.1825,-200.3207 8971.1824,-206.3208 8967.1824,-212.3207 8963.1824,-206.3207 8967.1825,-200.3207"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2740.4643,-50.9 2740.4643,-125.3 2831.9005,-125.3 2831.9005,-50.9 2740.4643,-50.9"/>
<text text-anchor="middle" x="2786.1824" y="-108.7" font-family="Times,serif" font-size="14.00" fill="#000000">StakingHbbft</text>
<polyline fill="none" stroke="#000000" points="2740.4643,-100.5 2831.9005,-100.5 "/>
<text text-anchor="middle" x="2786.1824" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2740.4643,-75.7 2831.9005,-75.7 "/>
<text text-anchor="middle" x="2786.1824" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 16 -->
<g id="node19" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2396.3275,-473.1 2396.3275,-631.5 3176.0373,-631.5 3176.0373,-473.1 2396.3275,-473.1"/>
<text text-anchor="middle" x="2786.1824" y="-614.9" font-family="Times,serif" font-size="14.00" fill="#000000">StakingHbbftCoins</text>
<polyline fill="none" stroke="#000000" points="2396.3275,-606.7 3176.0373,-606.7 "/>
<text text-anchor="middle" x="2786.1824" y="-590.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2396.3275,-581.9 3176.0373,-581.9 "/>
<text text-anchor="start" x="2404.3275" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2404.3275" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendWithdrawnStakeAmount(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="2404.3275" y="-531.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2404.3275" y="-514.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClaimedReward(fromPoolStakingAddress: address, staker: address, stakingEpoch: uint256, nativeCoinsAmount: uint256)</text>
<text text-anchor="start" x="2404.3275" y="-498.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimReward(_stakingEpochs: uint256[], _poolStakingAddress: address)</text>
<text text-anchor="start" x="2404.3275" y="-481.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getRewardAmount(_stakingEpochs: uint256[], _poolStakingAddress: address, _staker: address): uint256</text>
</g>
<!-- 8&#45;&gt;16 -->
<g id="edge19" class="edge">
<title>8&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M2786.1824,-125.3027C2786.1824,-193.3483 2786.1824,-340.267 2786.1824,-442.647"/>
<polygon fill="none" stroke="#000000" points="2775.6825,-442.8536 2786.1824,-472.8536 2796.6825,-442.8537 2775.6825,-442.8536"/>
</g>
<!-- 2 -->
<g id="node10" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4500.2423,-1794.1 4500.2423,-1885.3 5946.1225,-1885.3 5946.1225,-1794.1 4500.2423,-1794.1"/>
<text text-anchor="middle" x="5223.1824" y="-1868.7" font-family="Times,serif" font-size="14.00" fill="#000000">InitializerHbbft</text>
<polyline fill="none" stroke="#000000" points="4500.2423,-1860.5 5946.1225,-1860.5 "/>
<text text-anchor="middle" x="5223.1824" y="-1843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4500.2423,-1835.7 5946.1225,-1835.7 "/>
<text text-anchor="start" x="4508.2423" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4508.2423" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_contracts: address[], _owner: address, _miningAddresses: address[], _stakingAddresses: address[], _stakingParams: uint256[], _publicKeys: bytes32[], _internetAddresses: bytes16[], _parts: bytes[], _acks: bytes[][], _blockReward: uint256)</text>
</g>
<!-- 17 -->
<g id="node20" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="695.7756,-2963.9 695.7756,-3088.7 988.5892,-3088.7 988.5892,-2963.9 695.7756,-2963.9"/>
<text text-anchor="middle" x="842.1824" y="-3072.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="842.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">IBlockRewardHbbft</text>
<polyline fill="none" stroke="#000000" points="695.7756,-3047.1 988.5892,-3047.1 "/>
<text text-anchor="middle" x="842.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="695.7756,-3022.3 988.5892,-3022.3 "/>
<text text-anchor="start" x="703.7756" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="703.7756" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address, uint256)</text>
<text text-anchor="start" x="703.7756" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;epochsPoolGotRewardFor(address): uint256[]</text>
</g>
<!-- 2&#45;&gt;17 -->
<g id="edge23" class="edge">
<title>2&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5204.0315,-1885.4653C5135.5147,-2042.3817 4885.4584,-2559.4767 4491.1824,-2751 4316.5717,-2835.8188 1167.2447,-2693.3948 997.1824,-2787 932.5885,-2822.5536 890.6865,-2897.7515 866.9386,-2954.4212"/>
<polygon fill="#000000" stroke="#000000" points="863.6884,-2953.1226 863.1405,-2963.7033 870.167,-2955.7737 863.6884,-2953.1226"/>
</g>
<!-- 2&#45;&gt;19 -->
<g id="edge26" class="edge">
<title>2&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5203.9899,-1885.3801C5135.3373,-2042.0177 4884.8906,-2558.3121 4491.1824,-2751 4380.3902,-2805.2237 2375.3985,-2721.0143 2271.1824,-2787 2213.3109,-2823.642 2182.9247,-2897.7956 2167.5803,-2953.9001"/>
<polygon fill="#000000" stroke="#000000" points="2164.1357,-2953.2372 2164.9764,-2963.7986 2170.9053,-2955.0181 2164.1357,-2953.2372"/>
</g>
<!-- 2&#45;&gt;20 -->
<g id="edge22" class="edge">
<title>2&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5242.6446,-1885.3492C5311.9568,-2041.326 5563.7417,-2554.3109 5955.1824,-2751 6051.3541,-2799.3239 6829.5977,-2733.8389 6923.1824,-2787 6987.059,-2823.2853 7028.9673,-2897.9274 7052.9103,-2954.2566"/>
<polygon fill="#000000" stroke="#000000" points="7049.8206,-2955.943 7056.8861,-2963.8379 7056.2861,-2953.2601 7049.8206,-2955.943"/>
</g>
<!-- 2&#45;&gt;23 -->
<g id="edge24" class="edge">
<title>2&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5246.206,-1885.519C5323.7884,-2035.0793 5591.3167,-2513.0172 5955.1824,-2751 6006.4324,-2784.5196 6029.4555,-2769.6429 6088.1824,-2787 6326.5408,-2857.4484 6604.7284,-2949.2556 6744.4283,-2996.0319"/>
<polygon fill="#000000" stroke="#000000" points="6743.651,-2999.4627 6754.2449,-2999.3211 6745.875,-2992.8253 6743.651,-2999.4627"/>
</g>
<!-- 25 -->
<g id="node28" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3273.8145,-2787.5 3273.8145,-3265.1 3834.5503,-3265.1 3834.5503,-2787.5 3273.8145,-2787.5"/>
<text text-anchor="middle" x="3554.1824" y="-3248.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3554.1824" y="-3231.7" font-family="Times,serif" font-size="14.00" fill="#000000">IStakingHbbft</text>
<polyline fill="none" stroke="#000000" points="3273.8145,-3223.5 3834.5503,-3223.5 "/>
<text text-anchor="middle" x="3554.1824" y="-3206.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3273.8145,-3198.7 3834.5503,-3198.7 "/>
<text text-anchor="start" x="3281.8145" y="-3182.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3281.8145" y="-3165.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;poolDelegators(address): address[]</text>
<text text-anchor="start" x="3281.8145" y="-3148.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;incrementStakingEpoch()</text>
<text text-anchor="start" x="3281.8145" y="-3131.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removePool(address)</text>
<text text-anchor="start" x="3281.8145" y="-3114.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removePools()</text>
<text text-anchor="start" x="3281.8145" y="-3098.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setStakingEpochStartTime(uint256)</text>
<text text-anchor="start" x="3281.8145" y="-3081.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPoolsLikelihood(): (uint256[], uint256)</text>
<text text-anchor="start" x="3281.8145" y="-3064.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPoolsToBeElected(): address[]</text>
<text text-anchor="start" x="3281.8145" y="-3047.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPoolsToBeRemoved(): address[]</text>
<text text-anchor="start" x="3281.8145" y="-3030.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPoolActive(address): bool</text>
<text text-anchor="start" x="3281.8145" y="-3014.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;MAX_CANDIDATES(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2997.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;orderedWithdrawAmount(address, address): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2980.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address, address[], uint256, uint256, uint256, uint256, uint256, bytes32[], bytes16[])</text>
<text text-anchor="start" x="3281.8145" y="-2963.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rewardWasTaken(address, address, uint256): bool</text>
<text text-anchor="start" x="3281.8145" y="-2946.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakeAmount(address, address): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2930.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakeAmountTotal(address): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2913.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakeFirstEpoch(address, address): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2896.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakeLastEpoch(address, address): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2879.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingWithdrawDisallowPeriod(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2862.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingEpoch(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2846.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingFixedEpochDuration(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2829.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;startTimeOfNextPhaseTransition(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2812.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingFixedEpochEndTime(): uint256</text>
<text text-anchor="start" x="3281.8145" y="-2795.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stakingEpochStartTime(): uint256</text>
</g>
<!-- 2&#45;&gt;25 -->
<g id="edge21" class="edge">
<title>2&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5199.8166,-1885.4695C5121.4238,-2034.3669 4852.267,-2509.274 4491.1824,-2751 4296.9472,-2881.0297 4040.1798,-2950.8501 3844.5576,-2987.6"/>
<polygon fill="#000000" stroke="#000000" points="3843.8944,-2984.1633 3834.7031,-2989.4331 3845.1746,-2991.0452 3843.8944,-2984.1633"/>
</g>
<!-- 2&#45;&gt;27 -->
<g id="edge25" class="edge">
<title>2&#45;&gt;27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5203.7766,-1885.4621C5134.6481,-2041.8061 4883.389,-2555.8425 4491.1824,-2751 4369.1716,-2811.7112 3398.7409,-2759.8961 3265.1824,-2787 3083.6667,-2823.8362 2886.1491,-2909.5786 2765.2265,-2967.7692"/>
<polygon fill="#000000" stroke="#000000" points="2763.4144,-2964.7575 2755.9332,-2972.2597 2766.46,-2971.0603 2763.4144,-2964.7575"/>
</g>
<!-- 2&#45;&gt;28 -->
<g id="edge20" class="edge">
<title>2&#45;&gt;28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5248.535,-1885.4891C5329.76,-2032.1885 5587.5537,-2497.7867 5747.5959,-2786.837"/>
<polygon fill="#000000" stroke="#000000" points="5744.6323,-2788.7103 5752.5383,-2795.7634 5750.7563,-2785.3195 5744.6323,-2788.7103"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5963.7964,-1323.7 5963.7964,-2355.7 7144.5684,-2355.7 7144.5684,-1323.7 5963.7964,-1323.7"/>
<text text-anchor="middle" x="6554.1824" y="-2339.1" font-family="Times,serif" font-size="14.00" fill="#000000">ValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="5963.7964,-2330.9 7144.5684,-2330.9 "/>
<text text-anchor="start" x="5971.7964" y="-2314.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5971.7964" y="-2297.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_currentValidators: address[]</text>
<text text-anchor="start" x="5971.7964" y="-2280.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_pendingValidators: address[]</text>
<text text-anchor="start" x="5971.7964" y="-2263.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_previousValidators: address[]</text>
<text text-anchor="start" x="5971.7964" y="-2247.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_maliceReportedForBlock: mapping(address=&gt;mapping(uint256=&gt;address[]))</text>
<text text-anchor="start" x="5971.7964" y="-2230.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5971.7964" y="-2213.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;banCounter: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="5971.7964" y="-2196.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;bannedUntil: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="5971.7964" y="-2179.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;bannedDelegatorsUntil: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="5971.7964" y="-2163.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;banReason: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="5971.7964" y="-2146.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blockRewardContract: address</text>
<text text-anchor="start" x="5971.7964" y="-2129.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isValidator: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5971.7964" y="-2112.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isValidatorPrevious: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5971.7964" y="-2095.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;miningByStakingAddress: mapping(address=&gt;address)</text>
<text text-anchor="start" x="5971.7964" y="-2079.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;randomContract: address</text>
<text text-anchor="start" x="5971.7964" y="-2062.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reportingCounter: mapping(address=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="5971.7964" y="-2045.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reportingCounterTotal: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="5971.7964" y="-2028.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingByMiningAddress: mapping(address=&gt;address)</text>
<text text-anchor="start" x="5971.7964" y="-2011.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingContract: IStakingHbbft</text>
<text text-anchor="start" x="5971.7964" y="-1995.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;keyGenHistoryContract: IKeyGenHistory</text>
<text text-anchor="start" x="5971.7964" y="-1978.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorCounter: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="5971.7964" y="-1961.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_VALIDATORS: uint256</text>
<polyline fill="none" stroke="#000000" points="5963.7964,-1953.3 7144.5684,-1953.3 "/>
<text text-anchor="start" x="5971.7964" y="-1936.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5971.7964" y="-1919.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_clearReportingCounter(_miningAddress: address)</text>
<text text-anchor="start" x="5971.7964" y="-1903.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_finalizeNewValidators()</text>
<text text-anchor="start" x="5971.7964" y="-1886.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_incrementReportingCounter(_reportingMiningAddress: address)</text>
<text text-anchor="start" x="5971.7964" y="-1869.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removeMaliciousValidator(_miningAddress: address, _reason: bytes32): bool</text>
<text text-anchor="start" x="5971.7964" y="-1852.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removeMaliciousValidators(_miningAddresses: address[], _reason: bytes32)</text>
<text text-anchor="start" x="5971.7964" y="-1835.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_savePreviousValidators()</text>
<text text-anchor="start" x="5971.7964" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setPendingValidators(_stakingAddresses: address[])</text>
<text text-anchor="start" x="5971.7964" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setStakingAddress(_miningAddress: address, _stakingAddress: address)</text>
<text text-anchor="start" x="5971.7964" y="-1785.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_banUntil(): uint256</text>
<text text-anchor="start" x="5971.7964" y="-1768.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getRandomIndex(_likelihood: uint256[], _likelihoodSum: uint256, _randomNumber: uint256): uint256</text>
<text text-anchor="start" x="5971.7964" y="-1751.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5971.7964" y="-1735.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentTimestamp(): uint256</text>
<text text-anchor="start" x="5971.7964" y="-1718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_blockRewardContract: address, _randomContract: address, _stakingContract: address, _keyGenHistoryContract: address, _initialMiningAddresses: address[], _initialStakingAddresses: address[])</text>
<text text-anchor="start" x="5971.7964" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;finalizeChange()</text>
<text text-anchor="start" x="5971.7964" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newValidatorSet()</text>
<text text-anchor="start" x="5971.7964" y="-1667.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMaliciousValidators(_miningAddresses: address[])</text>
<text text-anchor="start" x="5971.7964" y="-1651.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reportMalicious(_maliciousMiningAddress: address, _blockNumber: uint256)</text>
<text text-anchor="start" x="5971.7964" y="-1634.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStakingAddress(_miningAddress: address, _stakingAddress: address)</text>
<text text-anchor="start" x="5971.7964" y="-1617.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5971.7964" y="-1600.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReportedMalicious(reportingValidator: address, maliciousValidator: address, blockNumber: uint256)</text>
<text text-anchor="start" x="5971.7964" y="-1583.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyBlockRewardContract()</text>
<text text-anchor="start" x="5971.7964" y="-1567.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRandomContract()</text>
<text text-anchor="start" x="5971.7964" y="-1550.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyStakingContract()</text>
<text text-anchor="start" x="5971.7964" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySystem()</text>
<text text-anchor="start" x="5971.7964" y="-1516.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="5971.7964" y="-1499.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;areDelegatorsBanned(_miningAddress: address): bool</text>
<text text-anchor="start" x="5971.7964" y="-1483.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPreviousValidators(): address[]</text>
<text text-anchor="start" x="5971.7964" y="-1466.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reportMaliciousCallable(_reportingMiningAddress: address, _maliciousMiningAddress: address, _blockNumber: uint256): (callable: bool, removeReportingValidator: bool)</text>
<text text-anchor="start" x="5971.7964" y="-1449.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getValidators(): address[]</text>
<text text-anchor="start" x="5971.7964" y="-1432.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
<text text-anchor="start" x="5971.7964" y="-1415.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isReportValidatorValid(_miningAddress: address): bool</text>
<text text-anchor="start" x="5971.7964" y="-1399.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isValidatorBanned(_miningAddress: address): bool</text>
<text text-anchor="start" x="5971.7964" y="-1382.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isValidatorOrPending(_miningAddress: address): bool</text>
<text text-anchor="start" x="5971.7964" y="-1365.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPendingValidator(_miningAddress: address): bool</text>
<text text-anchor="start" x="5971.7964" y="-1348.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;maliceReportedForBlock(_miningAddress: address, _blockNumber: uint256): address[]</text>
<text text-anchor="start" x="5971.7964" y="-1331.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPendingValidators(): address[]</text>
</g>
<!-- 10&#45;&gt;20 -->
<g id="edge31" class="edge">
<title>10&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M6782.1112,-2355.8456C6884.4932,-2587.69 6993.9359,-2835.5236 7046.4649,-2954.4756"/>
<polygon fill="#000000" stroke="#000000" points="7043.3646,-2956.1193 7050.606,-2963.8532 7049.7681,-2953.2916 7043.3646,-2956.1193"/>
</g>
<!-- 10&#45;&gt;23 -->
<g id="edge32" class="edge">
<title>10&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6675.9764,-2355.8456C6730.6295,-2587.4575 6789.0479,-2835.0264 6817.1496,-2954.1172"/>
<polygon fill="#000000" stroke="#000000" points="6813.7438,-2954.9244 6819.4469,-2963.8532 6820.5567,-2953.3167 6813.7438,-2954.9244"/>
</g>
<!-- 10&#45;&gt;25 -->
<g id="edge30" class="edge">
<title>10&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M6323.178,-2355.7875C6230.3354,-2506.9209 6108.3566,-2656.7224 5955.1824,-2751 5944.0052,-2757.8795 4481.9212,-2922.3653 3845.0767,-2993.7438"/>
<polygon fill="#000000" stroke="#000000" points="3844.3801,-2990.2998 3834.8321,-2994.8919 3845.1598,-2997.2563 3844.3801,-2990.2998"/>
</g>
<!-- 10&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>10&#45;&gt;28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6261.0068,-2355.8456C6179.7287,-2498.9386 6094.9909,-2648.1223 6026.14,-2769.3367"/>
<polygon fill="none" stroke="#000000" points="6016.9353,-2764.2823 6011.2484,-2795.5539 6035.1953,-2774.6542 6016.9353,-2764.2823"/>
</g>
<!-- 30 -->
<g id="node33" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2280.2662,-2947.1 2280.2662,-3105.5 2512.0986,-3105.5 2512.0986,-2947.1 2280.2662,-2947.1"/>
<text text-anchor="middle" x="2396.1824" y="-3088.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2396.1824" y="-3072.1" font-family="Times,serif" font-size="14.00" fill="#000000">SafeMath</text>
<polyline fill="none" stroke="#000000" points="2280.2662,-3063.9 2512.0986,-3063.9 "/>
<text text-anchor="middle" x="2396.1824" y="-3047.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2280.2662,-3039.1 2512.0986,-3039.1 "/>
<text text-anchor="start" x="2288.2662" y="-3022.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2288.2662" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mul(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="2288.2662" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;div(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="2288.2662" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sub(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="2288.2662" y="-2955.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;add(a: uint256, b: uint256): uint256</text>
</g>
<!-- 10&#45;&gt;30 -->
<g id="edge29" class="edge">
<title>10&#45;&gt;30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6334.5325,-2355.7695C6241.3927,-2510.8164 6116.3593,-2662.9712 5955.1824,-2751 5787.6913,-2842.4773 2682.722,-2686.9888 2520.1824,-2787 2466.7981,-2819.8475 2435.33,-2883.8418 2417.4591,-2937.3926"/>
<polygon fill="#000000" stroke="#000000" points="2414.1261,-2936.3247 2414.3854,-2946.9164 2420.7877,-2938.4748 2414.1261,-2936.3247"/>
</g>
<!-- 10&#45;&gt;35 -->
<g id="edge27" class="edge">
<title>10&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M6820.9788,-2355.8754C6912.0767,-2497.1864 7024.0823,-2641.427 7153.1824,-2751 7183.2179,-2776.4925 7211.1823,-2755.0157 7234.1824,-2787 7263.7697,-2828.1446 7281.1289,-3149.397 7287.891,-3305.3328"/>
<polygon fill="none" stroke="#000000" points="7277.4083,-3305.9668 7289.1561,-3335.5005 7298.3899,-3305.0869 7277.4083,-3305.9668"/>
</g>
<!-- 1 -->
<g id="node12" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1296.5897,-1676.5 1296.5897,-2002.9 1685.7751,-2002.9 1685.7751,-1676.5 1296.5897,-1676.5"/>
<text text-anchor="middle" x="1491.1824" y="-1986.3" font-family="Times,serif" font-size="14.00" fill="#000000">CertifierHbbft</text>
<polyline fill="none" stroke="#000000" points="1296.5897,-1978.1 1685.7751,-1978.1 "/>
<text text-anchor="start" x="1304.5897" y="-1961.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1304.5897" y="-1944.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_certified: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="1304.5897" y="-1927.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1304.5897" y="-1911.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="1296.5897,-1902.9 1685.7751,-1902.9 "/>
<text text-anchor="start" x="1304.5897" y="-1886.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1304.5897" y="-1869.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_certify(_who: address)</text>
<text text-anchor="start" x="1304.5897" y="-1852.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1304.5897" y="-1835.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_certifiedAddresses: address[], _validatorSet: address)</text>
<text text-anchor="start" x="1304.5897" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certify(_who: address)</text>
<text text-anchor="start" x="1304.5897" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revoke(_who: address)</text>
<text text-anchor="start" x="1304.5897" y="-1785.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certified(_who: address): bool</text>
<text text-anchor="start" x="1304.5897" y="-1768.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certifiedExplicitly(_who: address): bool</text>
<text text-anchor="start" x="1304.5897" y="-1751.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1304.5897" y="-1735.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Confirmed(who: address)</text>
<text text-anchor="start" x="1304.5897" y="-1718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Revoked(who: address)</text>
<text text-anchor="start" x="1304.5897" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="1304.5897" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
</g>
<!-- 1&#45;&gt;19 -->
<g id="edge34" class="edge">
<title>1&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1475.726,-2002.9697C1466.0601,-2210.2578 1484.7485,-2563.4242 1695.1824,-2751 1751.8989,-2801.5557 1972.8674,-2743.5318 2035.1824,-2787 2084.6824,-2821.5291 2114.362,-2882.8974 2131.5743,-2934.8411"/>
<polygon fill="none" stroke="#000000" points="2121.5442,-2937.9487 2140.2179,-2963.6692 2141.6594,-2931.9174 2121.5442,-2937.9487"/>
</g>
<!-- 1&#45;&gt;28 -->
<g id="edge35" class="edge">
<title>1&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M1473.3831,-2003.193C1460.723,-2213.2848 1475.6937,-2572.1737 1695.1824,-2751 1741.4463,-2788.693 3783.6406,-2783.0137 3843.1824,-2787 4513.8816,-2831.9028 5303.1013,-2940.7093 5671.3259,-2994.7545"/>
<polygon fill="#000000" stroke="#000000" points="5670.8877,-2998.2276 5681.2903,-2996.2187 5671.9054,-2991.3019 5670.8877,-2998.2276"/>
</g>
<!-- 1&#45;&gt;37 -->
<g id="edge33" class="edge">
<title>1&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M1503.5398,-2002.9028C1523.1723,-2191.7618 1572.7595,-2507.9157 1695.1824,-2751 1735.7475,-2831.5466 1805.0711,-2907.8619 1858.4702,-2959.622"/>
<polygon fill="none" stroke="#000000" points="1851.6109,-2967.5871 1880.6176,-2980.5818 1866.0456,-2952.3345 1851.6109,-2967.5871"/>
</g>
<!-- 11 -->
<g id="node13" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1006.3608,-2980.7 1006.3608,-3071.9 1214.004,-3071.9 1214.004,-2980.7 1006.3608,-2980.7"/>
<text text-anchor="middle" x="1110.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sacrifice</text>
<polyline fill="none" stroke="#000000" points="1006.3608,-3047.1 1214.004,-3047.1 "/>
<text text-anchor="middle" x="1110.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1006.3608,-3022.3 1214.004,-3022.3 "/>
<text text-anchor="start" x="1014.3608" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1014.3608" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_recipient: address)</text>
</g>
<!-- 12 -->
<g id="node14" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="405.6914,-1550.5 405.6914,-2128.9 1278.6734,-2128.9 1278.6734,-1550.5 405.6914,-1550.5"/>
<text text-anchor="middle" x="842.1824" y="-2112.3" font-family="Times,serif" font-size="14.00" fill="#000000">BlockRewardHbbftBase</text>
<polyline fill="none" stroke="#000000" points="405.6914,-2104.1 1278.6734,-2104.1 "/>
<text text-anchor="start" x="413.6914" y="-2087.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="413.6914" y="-2070.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_epochsPoolGotRewardFor: mapping(address=&gt;uint256[])</text>
<text text-anchor="start" x="413.6914" y="-2053.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;VALIDATOR_MIN_REWARD_PERCENT: uint256</text>
<text text-anchor="start" x="413.6914" y="-2037.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REWARD_PERCENT_MULTIPLIER: uint256</text>
<text text-anchor="start" x="413.6914" y="-2020.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="413.6914" y="-2003.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxEpochReward: uint256</text>
<text text-anchor="start" x="413.6914" y="-1986.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;epochPoolNativeReward: mapping(uint256=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="413.6914" y="-1969.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nativeRewardUndistributed: uint256</text>
<text text-anchor="start" x="413.6914" y="-1953.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;snapshotPoolTotalStakeAmount: mapping(uint256=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="413.6914" y="-1936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;snapshotPoolValidatorStakeAmount: mapping(uint256=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="413.6914" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorMinRewardPercent: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="413.6914" y="-1902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<polyline fill="none" stroke="#000000" points="405.6914,-1894.5 1278.6734,-1894.5 "/>
<text text-anchor="start" x="413.6914" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="413.6914" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_distributeRewards(_stakingEpoch: uint256): uint256</text>
<text text-anchor="start" x="413.6914" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_snapshotPoolStakeAmounts(_stakingContract: IStakingHbbft, _stakingEpoch: uint256, _miningAddress: address)</text>
<text text-anchor="start" x="413.6914" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transferNativeReward(_amount: uint256, _to: address)</text>
<text text-anchor="start" x="413.6914" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="413.6914" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_validatorSet: address, _maxEpochReward: uint256)</text>
<text text-anchor="start" x="413.6914" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reward(_benefactors: address[], _kind: uint16[], _isEpochEndBlock: bool): (rewardsNative: uint256)</text>
<text text-anchor="start" x="413.6914" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="413.6914" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;fallback&gt;&gt; ()</text>
<text text-anchor="start" x="413.6914" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CoinsRewarded(rewards: uint256)</text>
<text text-anchor="start" x="413.6914" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySystem()</text>
<text text-anchor="start" x="413.6914" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyStakingContract()</text>
<text text-anchor="start" x="413.6914" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyValidatorSetContract()</text>
<text text-anchor="start" x="413.6914" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="413.6914" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validatorShare(_stakingEpoch: uint256, _validatorStaked: uint256, _totalStaked: uint256, _poolReward: uint256): uint256</text>
<text text-anchor="start" x="413.6914" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
<text text-anchor="start" x="413.6914" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;epochsToClaimRewardFrom(_poolStakingAddress: address, _staker: address): (epochsToClaimFrom: uint256[])</text>
<text text-anchor="start" x="413.6914" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validatorRewardPercent(_stakingAddress: address): uint256</text>
<text text-anchor="start" x="413.6914" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;delegatorShare(_stakingEpoch: uint256, _delegatorStaked: uint256, _validatorStaked: uint256, _totalStaked: uint256, _poolReward: uint256): uint256</text>
<text text-anchor="start" x="413.6914" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;epochsPoolGotRewardFor(_miningAddress: address): uint256[]</text>
</g>
<!-- 12&#45;&gt;11 -->
<g id="edge41" class="edge">
<title>12&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M907.5712,-2129.216C971.5676,-2412.5674 1064.1566,-2822.5158 1097.5667,-2970.4424"/>
<polygon fill="#000000" stroke="#000000" points="1094.1577,-2971.2362 1099.7748,-2980.2194 1100.9857,-2969.694 1094.1577,-2971.2362"/>
</g>
<!-- 12&#45;&gt;17 -->
<g id="edge37" class="edge">
<title>12&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M842.1824,-2129.216C842.1824,-2391.6739 842.1824,-2762.7474 842.1824,-2933.6013"/>
<polygon fill="none" stroke="#000000" points="831.6825,-2933.819 842.1824,-2963.8191 852.6825,-2933.8191 831.6825,-2933.819"/>
</g>
<!-- 12&#45;&gt;25 -->
<g id="edge40" class="edge">
<title>12&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M899.8727,-2129.0126C958.6606,-2340.527 1072.8479,-2613.5201 1287.1824,-2751 1357.0192,-2795.7952 2698.2999,-2773.6195 2780.1824,-2787 2943.6911,-2813.7191 3120.6005,-2866.5143 3263.9604,-2915.7318"/>
<polygon fill="#000000" stroke="#000000" points="3263.1939,-2919.1696 3273.7887,-2919.1184 3265.4744,-2912.5515 3263.1939,-2919.1696"/>
</g>
<!-- 12&#45;&gt;28 -->
<g id="edge39" class="edge">
<title>12&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M899.3311,-2129.0744C957.8662,-2340.991 1071.9757,-2614.4782 1287.1824,-2751 1347.1423,-2789.037 3772.3277,-2782.3515 3843.1824,-2787 4513.9411,-2831.0058 5303.1325,-2940.2383 5671.3382,-2994.5689"/>
<polygon fill="#000000" stroke="#000000" points="5670.8979,-2998.0418 5681.3021,-2996.0409 5671.921,-2991.1169 5670.8979,-2998.0418"/>
</g>
<!-- 12&#45;&gt;30 -->
<g id="edge38" class="edge">
<title>12&#45;&gt;30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M900.5913,-2129.0772C959.7061,-2340.0745 1073.9854,-2612.3673 1287.1824,-2751 1378.9028,-2810.6418 2178.6617,-2728.6073 2271.1824,-2787 2324.0763,-2820.383 2355.7914,-2883.9855 2374.0351,-2937.2319"/>
<polygon fill="#000000" stroke="#000000" points="2370.8187,-2938.6527 2377.2869,-2947.044 2377.4633,-2936.4506 2370.8187,-2938.6527"/>
</g>
<!-- 12&#45;&gt;37 -->
<g id="edge36" class="edge">
<title>12&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M924.1383,-2129.0155C992.9629,-2326.4416 1109.1017,-2581.8454 1287.1824,-2751 1436.132,-2892.4836 1668.8935,-2966.9892 1810.5919,-3001.3897"/>
<polygon fill="none" stroke="#000000" points="1808.6404,-3011.7166 1840.2434,-3008.325 1813.4232,-2991.2685 1808.6404,-3011.7166"/>
</g>
<!-- 13&#45;&gt;12 -->
<g id="edge42" class="edge">
<title>13&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M842.1824,-614.8291C842.1824,-776.0111 842.1824,-1214.3958 842.1824,-1520.3837"/>
<polygon fill="none" stroke="#000000" points="831.6825,-1520.496 842.1824,-1550.496 852.6825,-1520.4961 831.6825,-1520.496"/>
</g>
<!-- 18 -->
<g id="node21" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-1768.9 0,-1910.5 350.3648,-1910.5 350.3648,-1768.9 0,-1768.9"/>
<text text-anchor="middle" x="175.1824" y="-1893.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="175.1824" y="-1877.1" font-family="Times,serif" font-size="14.00" fill="#000000">IBlockRewardHbbftCoins</text>
<polyline fill="none" stroke="#000000" points="0,-1868.9 350.3648,-1868.9 "/>
<text text-anchor="middle" x="175.1824" y="-1852.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-1844.1 350.3648,-1844.1 "/>
<text text-anchor="start" x="8" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferReward(uint256, payable: address)</text>
<text text-anchor="start" x="8" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDelegatorReward(uint256, uint256, address): uint256</text>
<text text-anchor="start" x="8" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getValidatorReward(uint256, address): uint256</text>
</g>
<!-- 13&#45;&gt;18 -->
<g id="edge43" class="edge">
<title>13&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M721.3718,-614.751C610.6929,-678.4444 451.2364,-787.7783 364.1824,-928.4 203.4002,-1188.1176 177.0144,-1561.2058 174.2105,-1738.5954"/>
<polygon fill="none" stroke="#000000" points="163.7108,-1738.5209 173.9359,-1768.6157 184.7099,-1738.713 163.7108,-1738.5209"/>
</g>
<!-- 14 -->
<g id="node16" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2626.4629,-928.9 2626.4629,-2750.5 4481.9019,-2750.5 4481.9019,-928.9 2626.4629,-928.9"/>
<text text-anchor="middle" x="3554.1824" y="-2733.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3554.1824" y="-2717.1" font-family="Times,serif" font-size="14.00" fill="#000000">StakingHbbftBase</text>
<polyline fill="none" stroke="#000000" points="2626.4629,-2708.9 4481.9019,-2708.9 "/>
<text text-anchor="start" x="2634.4629" y="-2692.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2634.4629" y="-2675.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_pools: address[]</text>
<text text-anchor="start" x="2634.4629" y="-2658.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolsInactive: address[]</text>
<text text-anchor="start" x="2634.4629" y="-2641.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolsToBeElected: address[]</text>
<text text-anchor="start" x="2634.4629" y="-2625.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolsToBeRemoved: address[]</text>
<text text-anchor="start" x="2634.4629" y="-2608.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolsLikelihood: uint256[]</text>
<text text-anchor="start" x="2634.4629" y="-2591.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolsLikelihoodSum: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2574.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolDelegators: mapping(address=&gt;address[])</text>
<text text-anchor="start" x="2634.4629" y="-2557.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_poolDelegatorsInactive: mapping(address=&gt;address[])</text>
<text text-anchor="start" x="2634.4629" y="-2541.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_stakeAmountByEpoch: mapping(address=&gt;mapping(address=&gt;mapping(uint256=&gt;uint256)))</text>
<text text-anchor="start" x="2634.4629" y="-2524.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2634.4629" y="-2507.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;candidateMinStake: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2490.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;delegatorMinStake: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2473.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;delegatorStakeSnapshot: mapping(address=&gt;mapping(address=&gt;mapping(uint256=&gt;uint256)))</text>
<text text-anchor="start" x="2634.4629" y="-2457.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;orderedWithdrawAmount: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2440.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;orderedWithdrawAmountTotal: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2423.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;orderWithdrawEpoch: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2406.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolDelegatorIndex: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2389.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolDelegatorInactiveIndex: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2373.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolInactiveIndex: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2356.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolIndex: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2339.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolToBeElectedIndex: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2322.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolToBeRemovedIndex: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2305.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rewardWasTaken: mapping(address=&gt;mapping(address=&gt;mapping(uint256=&gt;bool)))</text>
<text text-anchor="start" x="2634.4629" y="-2289.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakeAmount: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2272.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakeFirstEpoch: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2255.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakeLastEpoch: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2634.4629" y="-2238.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingWithdrawDisallowPeriod: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2221.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingEpoch: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2205.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingFixedEpochDuration: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2188.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingTransitionTimeframeLength: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2171.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakingEpochStartTime: uint256</text>
<text text-anchor="start" x="2634.4629" y="-2154.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stakeAmountTotal: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2137.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;validatorSetContract: IValidatorSetHbbft</text>
<text text-anchor="start" x="2634.4629" y="-2121.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolInfo: mapping(address=&gt;PoolInfo)</text>
<text text-anchor="start" x="2634.4629" y="-2104.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_CANDIDATES: uint256</text>
<polyline fill="none" stroke="#000000" points="2626.4629,-2096.1 4481.9019,-2096.1 "/>
<text text-anchor="start" x="2634.4629" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2634.4629" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; _sendWithdrawnStakeAmount(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removePoolDelegatorInactive(_poolStakingAddress: address, _delegator: address)</text>
<text text-anchor="start" x="2634.4629" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolToBeElected(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolToBeRemoved(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_deletePoolToBeElected(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_deletePoolToBeRemoved(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removePool(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removePoolInactive(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_validatorSetContract: address, _initialStakingAddresses: address[], _delegatorMinStake: uint256, _candidateMinStake: uint256, _publicKeys: bytes32[], _internetAddresses: bytes16[])</text>
<text text-anchor="start" x="2634.4629" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolDelegator(_poolStakingAddress: address, _delegator: address)</text>
<text text-anchor="start" x="2634.4629" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolDelegatorInactive(_poolStakingAddress: address, _delegator: address)</text>
<text text-anchor="start" x="2634.4629" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removePoolDelegator(_poolStakingAddress: address, _delegator: address)</text>
<text text-anchor="start" x="2634.4629" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolInactive(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addPoolActive(_stakingAddress: address, _toBeElected: bool)</text>
<text text-anchor="start" x="2634.4629" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setLikelihood(_poolStakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_snapshotDelegatorStake(_poolStakingAddress: address, _delegator: address)</text>
<text text-anchor="start" x="2634.4629" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_stake(_poolStakingAddress: address, _staker: address, _amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdraw(_poolStakingAddress: address, _staker: address, _amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdrawCheckPool(_poolStakingAddress: address, _staker: address)</text>
<text text-anchor="start" x="2634.4629" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDelegatorStake(_epoch: uint256, _firstEpoch: uint256, _prevDelegatorStake: uint256, _poolStakingAddress: address, _delegator: address): (delegatorStake: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMaxCandidates(): uint256</text>
<text text-anchor="start" x="2634.4629" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isPoolEmpty(_poolStakingAddress: address): bool</text>
<text text-anchor="start" x="2634.4629" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isPoolToBeElected(_stakingAddress: address): (toBeElected: bool, index: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isWithdrawAllowed(_miningAddress: address, _isDelegator: bool): bool</text>
<text text-anchor="start" x="2634.4629" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2634.4629" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; addPool(_miningAddress: address, _publicKey: bytes, _ip: bytes16)</text>
<text text-anchor="start" x="2634.4629" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; stake(_toPoolStakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;incrementStakingEpoch()</text>
<text text-anchor="start" x="2634.4629" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_validatorSetContract: address, _initialStakingAddresses: address[], _delegatorMinStake: uint256, _candidateMinStake: uint256, _stakingFixedEpochDuration: uint256, _stakingTransitionTimeframeLength: uint256, _stakingWithdrawDisallowPeriod: uint256, _publicKeys: bytes32[], _internetAddresses: bytes16[])</text>
<text text-anchor="start" x="2634.4629" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removePool(_stakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removePools()</text>
<text text-anchor="start" x="2634.4629" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMyPool()</text>
<text text-anchor="start" x="2634.4629" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStakingEpochStartTime(_timestamp: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;moveStake(_fromPoolStakingAddress: address, _toPoolStakingAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolsToBeRemoved(): address[]</text>
<text text-anchor="start" x="2634.4629" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(_fromPoolStakingAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolInfo(_publicKey: bytes, _ip: bytes16)</text>
<text text-anchor="start" x="2634.4629" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimOrderedWithdraw(_poolStakingAddress: address)</text>
<text text-anchor="start" x="2634.4629" y="-1424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCandidateMinStake(_minStake: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDelegatorMinStake(_minStake: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1390.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPools(): address[]</text>
<text text-anchor="start" x="2634.4629" y="-1373.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolPublicKey(_poolAddress: address): bytes</text>
<text text-anchor="start" x="2634.4629" y="-1357.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolInternetAddress(_poolAddress: address): bytes16</text>
<text text-anchor="start" x="2634.4629" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolsInactive(): address[]</text>
<text text-anchor="start" x="2634.4629" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolsLikelihood(): (likelihoods: uint256[], sum: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolsToBeElected(): address[]</text>
<text text-anchor="start" x="2634.4629" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;orderWithdraw(_poolStakingAddress: address, _amount: int256)</text>
<text text-anchor="start" x="2634.4629" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2634.4629" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;fallback&gt;&gt; ()</text>
<text text-anchor="start" x="2634.4629" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClaimedOrderedWithdrawal(fromPoolStakingAddress: address, staker: address, stakingEpoch: uint256, amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OrderedWithdrawal(fromPoolStakingAddress: address, staker: address, stakingEpoch: uint256, amount: int256)</text>
<text text-anchor="start" x="2634.4629" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PlacedStake(toPoolStakingAddress: address, staker: address, stakingEpoch: uint256, amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrewStake(fromPoolStakingAddress: address, staker: address, stakingEpoch: uint256, amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MovedStake(fromPoolStakingAddress: address, toPoolStakingAddress: address, staker: address, stakingEpoch: uint256, amount: uint256)</text>
<text text-anchor="start" x="2634.4629" y="-1155.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; gasPriceIsValid()</text>
<text text-anchor="start" x="2634.4629" y="-1138.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyBlockRewardContract()</text>
<text text-anchor="start" x="2634.4629" y="-1121.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyInitialized()</text>
<text text-anchor="start" x="2634.4629" y="-1105.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyValidatorSetContract()</text>
<text text-anchor="start" x="2634.4629" y="-1088.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stakingFixedEpochEndTime(): uint256</text>
<text text-anchor="start" x="2634.4629" y="-1071.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isInitialized(): bool</text>
<text text-anchor="start" x="2634.4629" y="-1054.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPoolActive(_stakingAddress: address): bool</text>
<text text-anchor="start" x="2634.4629" y="-1037.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;maxWithdrawAllowed(_poolStakingAddress: address, _staker: address): uint256</text>
<text text-anchor="start" x="2634.4629" y="-1021.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;maxWithdrawOrderAllowed(_poolStakingAddress: address, _staker: address): uint256</text>
<text text-anchor="start" x="2634.4629" y="-1004.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;poolDelegators(_poolStakingAddress: address): address[]</text>
<text text-anchor="start" x="2634.4629" y="-987.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;poolDelegatorsInactive(_poolStakingAddress: address): address[]</text>
<text text-anchor="start" x="2634.4629" y="-970.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stakeAmountByCurrentEpoch(_poolStakingAddress: address, _staker: address): uint256</text>
<text text-anchor="start" x="2634.4629" y="-953.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startTimeOfNextPhaseTransition(): uint256</text>
<text text-anchor="start" x="2634.4629" y="-937.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;areStakeAndWithdrawAllowed(): bool</text>
</g>
<!-- 14&#45;&gt;25 -->
<g id="edge45" class="edge">
<title>14&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3554.1824,-2750.7141C3554.1824,-2752.8562 3554.1824,-2754.9904 3554.1824,-2757.1166"/>
<polygon fill="none" stroke="#000000" points="3543.6825,-2757.2724 3554.1824,-2787.2725 3564.6825,-2757.2725 3543.6825,-2757.2724"/>
</g>
<!-- 14&#45;&gt;28 -->
<g id="edge47" class="edge">
<title>14&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M4482.1513,-2746.2141C4485.1585,-2747.822 4488.1689,-2749.4174 4491.1824,-2751 4693.6065,-2857.3068 5335.1922,-2954.4731 5670.8768,-2999.6571"/>
<polygon fill="#000000" stroke="#000000" points="5670.8338,-3003.1826 5681.2107,-3001.0446 5671.7654,-2996.2449 5670.8338,-3003.1826"/>
</g>
<!-- 14&#45;&gt;30 -->
<g id="edge46" class="edge">
<title>14&#45;&gt;30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2626.17,-2745.2866C2623.1759,-2747.2017 2620.18,-2749.1063 2617.1824,-2751 2578.306,-2775.56 2554.6308,-2756.539 2520.1824,-2787 2474.985,-2826.9657 2443.86,-2887.3791 2424.0975,-2937.5036"/>
<polygon fill="#000000" stroke="#000000" points="2420.7454,-2936.4688 2420.4173,-2947.0586 2427.2777,-2938.9848 2420.7454,-2936.4688"/>
</g>
<!-- 14&#45;&gt;37 -->
<g id="edge44" class="edge">
<title>14&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M2626.1194,-2746.9982C2623.1444,-2748.3459 2620.1654,-2749.6799 2617.1824,-2751 2498.6868,-2803.4395 2141.0334,-2712.2559 2035.1824,-2787 1982.0154,-2824.5425 1956.384,-2895.6546 1944.1352,-2950.6418"/>
<polygon fill="none" stroke="#000000" points="1933.7692,-2948.9453 1938.426,-2980.3868 1954.3927,-2952.9038 1933.7692,-2948.9453"/>
</g>
<!-- 14struct0 -->
<g id="node17" class="node">
<title>14struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3476.3959,-510.7 3476.3959,-593.9 3631.9689,-593.9 3631.9689,-510.7 3476.3959,-510.7"/>
<text text-anchor="middle" x="3554.1824" y="-577.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3554.1824" y="-560.5" font-family="Times,serif" font-size="14.00" fill="#000000">PoolInfo</text>
<polyline fill="none" stroke="#000000" points="3476.3959,-552.3 3631.9689,-552.3 "/>
<text text-anchor="start" x="3484.3959" y="-535.7" font-family="Times,serif" font-size="14.00" fill="#000000">publicKey: bytes</text>
<text text-anchor="start" x="3484.3959" y="-518.9" font-family="Times,serif" font-size="14.00" fill="#000000">internetAddress: bytes16</text>
</g>
<!-- 14struct0&#45;&gt;14 -->
<g id="edge2" class="edge">
<title>14struct0&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M3554.1824,-594.0384C3554.1824,-654.2646 3554.1824,-774.0944 3554.1824,-916.591"/>
<polygon fill="#000000" stroke="#000000" points="3554.1825,-916.6618 3558.1824,-922.6618 3554.1824,-928.6618 3550.1824,-922.6617 3554.1825,-916.6618"/>
</g>
<!-- 15 -->
<g id="node18" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2400.3608,-1794.1 2400.3608,-1885.3 2608.004,-1885.3 2608.004,-1794.1 2400.3608,-1794.1"/>
<text text-anchor="middle" x="2504.1824" y="-1868.7" font-family="Times,serif" font-size="14.00" fill="#000000">Sacrifice2</text>
<polyline fill="none" stroke="#000000" points="2400.3608,-1860.5 2608.004,-1860.5 "/>
<text text-anchor="middle" x="2504.1824" y="-1843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2400.3608,-1835.7 2608.004,-1835.7 "/>
<text text-anchor="start" x="2408.3608" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2408.3608" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_recipient: address)</text>
</g>
<!-- 16&#45;&gt;14 -->
<g id="edge48" class="edge">
<title>16&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M2833.6447,-631.8611C2871.4578,-695.2473 2928.9389,-791.6029 2995.2763,-902.8045"/>
<polygon fill="none" stroke="#000000" points="2986.3174,-908.282 3010.7044,-928.6666 3004.3522,-897.5234 2986.3174,-908.282"/>
</g>
<!-- 16&#45;&gt;15 -->
<g id="edge51" class="edge">
<title>16&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2741.984,-631.8365C2702.7287,-706.2122 2647.0814,-821.5487 2617.1824,-928.4 2529.0651,-1243.3084 2509.6097,-1638.6222 2505.3568,-1783.328"/>
<polygon fill="#000000" stroke="#000000" points="2501.8473,-1783.6215 2505.0653,-1793.7158 2508.8446,-1783.818 2501.8473,-1783.6215"/>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge50" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2495.3879,-631.531C2184.5759,-712.5052 1676.0817,-834.3605 1229.1824,-892.4 1183.3022,-898.3585 429.1821,-894.9857 397.1824,-928.4 362.1655,-964.9648 372.5383,-2706.7751 397.1824,-2751 458.5042,-2861.0448 583.9642,-2932.6495 686.0842,-2975.1694"/>
<polygon fill="#000000" stroke="#000000" points="684.9974,-2978.5066 695.5774,-2979.0668 687.656,-2972.0311 684.9974,-2978.5066"/>
</g>
<!-- 16&#45;&gt;18 -->
<g id="edge49" class="edge">
<title>16&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2495.7645,-631.5838C2185.0009,-712.6795 1676.3009,-834.7066 1229.1824,-892.4 1181.4807,-898.5551 400.8466,-897.27 364.1824,-928.4 117.5772,-1137.7822 141.1021,-1577.0623 163.0649,-1758.5675"/>
<polygon fill="#000000" stroke="#000000" points="159.6026,-1759.089 164.307,-1768.5821 166.5494,-1758.2273 159.6026,-1759.089"/>
</g>
<!-- 26 -->
<g id="node29" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9083.7981,-42.5 9083.7981,-133.7 9212.5667,-133.7 9212.5667,-42.5 9083.7981,-42.5"/>
<text text-anchor="middle" x="9148.1824" y="-117.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9148.1824" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#000000">IStakingHbbftCoins</text>
<polyline fill="none" stroke="#000000" points="9083.7981,-92.1 9212.5667,-92.1 "/>
<text text-anchor="middle" x="9148.1824" y="-75.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9083.7981,-67.3 9212.5667,-67.3 "/>
<text text-anchor="middle" x="9148.1824" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 29 -->
<g id="node32" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7647.1578,-3556.3 7647.1578,-3664.3 7869.207,-3664.3 7869.207,-3556.3 7647.1578,-3556.3"/>
<text text-anchor="middle" x="7758.1824" y="-3647.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7758.1824" y="-3630.9" font-family="Times,serif" font-size="14.00" fill="#000000">OpenZeppelinUpgradesAddress</text>
<polyline fill="none" stroke="#000000" points="7647.1578,-3622.7 7869.207,-3622.7 "/>
<text text-anchor="middle" x="7758.1824" y="-3606.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7647.1578,-3597.9 7869.207,-3597.9 "/>
<text text-anchor="start" x="7655.1578" y="-3581.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7655.1578" y="-3564.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isContract(account: address): bool</text>
</g>
<!-- 31 -->
<g id="node34" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8026.5382,-1794.1 8026.5382,-1885.3 8385.8266,-1885.3 8385.8266,-1794.1 8026.5382,-1794.1"/>
<text text-anchor="middle" x="8206.1824" y="-1868.7" font-family="Times,serif" font-size="14.00" fill="#000000">AdminUpgradeabilityProxy</text>
<polyline fill="none" stroke="#000000" points="8026.5382,-1860.5 8385.8266,-1860.5 "/>
<text text-anchor="middle" x="8206.1824" y="-1843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8026.5382,-1835.7 8385.8266,-1835.7 "/>
<text text-anchor="start" x="8034.5382" y="-1819.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8034.5382" y="-1802.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_logic: address, _admin: address, _data: bytes)</text>
</g>
<!-- 32 -->
<g id="node35" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7602.8752,-2905.1 7602.8752,-3147.5 8057.4896,-3147.5 8057.4896,-2905.1 7602.8752,-2905.1"/>
<text text-anchor="middle" x="7830.1824" y="-3130.9" font-family="Times,serif" font-size="14.00" fill="#000000">BaseAdminUpgradeabilityProxy</text>
<polyline fill="none" stroke="#000000" points="7602.8752,-3122.7 8057.4896,-3122.7 "/>
<text text-anchor="middle" x="7830.1824" y="-3106.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7602.8752,-3097.9 8057.4896,-3097.9 "/>
<text text-anchor="start" x="7610.8752" y="-3081.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7610.8752" y="-3064.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setAdmin(newAdmin: address)</text>
<text text-anchor="start" x="7610.8752" y="-3047.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7610.8752" y="-3030.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; upgradeToAndCall(newImplementation: address, data: bytes)</text>
<text text-anchor="start" x="7610.8752" y="-3014.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;admin(): address</text>
<text text-anchor="start" x="7610.8752" y="-2997.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;implementation(): address</text>
<text text-anchor="start" x="7610.8752" y="-2980.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeAdmin(newAdmin: address)</text>
<text text-anchor="start" x="7610.8752" y="-2963.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;upgradeTo(newImplementation: address)</text>
<text text-anchor="start" x="7610.8752" y="-2946.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7610.8752" y="-2930.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AdminChanged(previousAdmin: address, newAdmin: address)</text>
<text text-anchor="start" x="7610.8752" y="-2913.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; ifAdmin()</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge52" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M8203.0014,-1885.66C8192.2164,-2022.5354 8149.9727,-2437.4314 8017.1824,-2751 7998.3817,-2795.3956 7971.9696,-2840.0986 7944.9055,-2880.1918"/>
<polygon fill="none" stroke="#000000" points="7936.2776,-2874.2077 7927.8006,-2904.8409 7953.5305,-2886.1801 7936.2776,-2874.2077"/>
</g>
<!-- 36 -->
<g id="node39" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8075.7209,-2980.7 8075.7209,-3071.9 8336.6439,-3071.9 8336.6439,-2980.7 8075.7209,-2980.7"/>
<text text-anchor="middle" x="8206.1824" y="-3055.3" font-family="Times,serif" font-size="14.00" fill="#000000">UpgradeabilityProxy</text>
<polyline fill="none" stroke="#000000" points="8075.7209,-3047.1 8336.6439,-3047.1 "/>
<text text-anchor="middle" x="8206.1824" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8075.7209,-3022.3 8336.6439,-3022.3 "/>
<text text-anchor="start" x="8083.7209" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8083.7209" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_logic: address, _data: bytes)</text>
</g>
<!-- 31&#45;&gt;36 -->
<g id="edge53" class="edge">
<title>31&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M8206.1824,-1885.4891C8206.1824,-2065.4368 8206.1824,-2725.2159 8206.1824,-2950.396"/>
<polygon fill="none" stroke="#000000" points="8195.6825,-2950.6474 8206.1824,-2980.6474 8216.6825,-2950.6474 8195.6825,-2950.6474"/>
</g>
<!-- 33 -->
<g id="node36" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7862.2535,-3302.1 7862.2535,-3477.3 8174.1113,-3477.3 8174.1113,-3302.1 7862.2535,-3302.1"/>
<text text-anchor="middle" x="8018.1824" y="-3460.7" font-family="Times,serif" font-size="14.00" fill="#000000">BaseUpgradeabilityProxy</text>
<polyline fill="none" stroke="#000000" points="7862.2535,-3452.5 8174.1113,-3452.5 "/>
<text text-anchor="start" x="7870.2535" y="-3435.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7870.2535" y="-3419.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;IMPLEMENTATION_SLOT: bytes32</text>
<polyline fill="none" stroke="#000000" points="7862.2535,-3410.9 8174.1113,-3410.9 "/>
<text text-anchor="start" x="7870.2535" y="-3394.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7870.2535" y="-3377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_implementation(): (impl: address)</text>
<text text-anchor="start" x="7870.2535" y="-3360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_upgradeTo(newImplementation: address)</text>
<text text-anchor="start" x="7870.2535" y="-3343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setImplementation(newImplementation: address)</text>
<text text-anchor="start" x="7870.2535" y="-3327.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7870.2535" y="-3310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Upgraded(implementation: address)</text>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge55" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M7892.9143,-3147.5595C7914.2213,-3188.7453 7937.9471,-3234.6069 7958.9702,-3275.244"/>
<polygon fill="none" stroke="#000000" points="7949.7464,-3280.2662 7972.857,-3302.0871 7968.3982,-3270.6169 7949.7464,-3280.2662"/>
</g>
<!-- 32&#45;&gt;35 -->
<g id="edge54" class="edge">
<title>32&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7650.3286,-3147.5595C7566.2143,-3204.2703 7468.9512,-3269.8462 7396.8746,-3318.4411"/>
<polygon fill="none" stroke="#000000" points="7390.5355,-3310.0514 7371.5307,-3335.5283 7402.275,-3327.4636 7390.5355,-3310.0514"/>
</g>
<!-- 33&#45;&gt;29 -->
<g id="edge57" class="edge">
<title>33&#45;&gt;29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7914.6764,-3477.5208C7886.1919,-3501.6889 7855.935,-3527.3607 7829.6947,-3549.6245"/>
<polygon fill="#000000" stroke="#000000" points="7827.4078,-3546.9748 7822.047,-3556.1134 7831.9366,-3552.3125 7827.4078,-3546.9748"/>
</g>
<!-- 34 -->
<g id="node37" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7887.0937,-3514.3 7887.0937,-3706.3 8149.2711,-3706.3 8149.2711,-3514.3 7887.0937,-3514.3"/>
<text text-anchor="middle" x="8018.1824" y="-3689.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="8018.1824" y="-3672.9" font-family="Times,serif" font-size="14.00" fill="#000000">Proxy</text>
<polyline fill="none" stroke="#000000" points="7887.0937,-3664.7 8149.2711,-3664.7 "/>
<text text-anchor="middle" x="8018.1824" y="-3648.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7887.0937,-3639.9 8149.2711,-3639.9 "/>
<text text-anchor="start" x="7895.0937" y="-3623.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7895.0937" y="-3606.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; _implementation(): address</text>
<text text-anchor="start" x="7895.0937" y="-3589.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_delegate(implementation: address)</text>
<text text-anchor="start" x="7895.0937" y="-3572.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_willFallback()</text>
<text text-anchor="start" x="7895.0937" y="-3556.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_fallback()</text>
<text text-anchor="start" x="7895.0937" y="-3539.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7895.0937" y="-3522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;fallback&gt;&gt; ()</text>
</g>
<!-- 33&#45;&gt;34 -->
<g id="edge56" class="edge">
<title>33&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M8018.1824,-3477.5208C8018.1824,-3479.6798 8018.1824,-3481.8508 8018.1824,-3484.0303"/>
<polygon fill="none" stroke="#000000" points="8007.6825,-3484.0781 8018.1824,-3514.0781 8028.6825,-3484.0781 8007.6825,-3484.0781"/>
</g>
<!-- 36&#45;&gt;33 -->
<g id="edge58" class="edge">
<title>36&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M8182.5624,-3071.9569C8156.3713,-3122.5838 8113.1234,-3206.1811 8077.5606,-3274.9231"/>
<polygon fill="none" stroke="#000000" points="8068.0723,-3270.4124 8063.6135,-3301.8826 8086.7242,-3280.0618 8068.0723,-3270.4124"/>
</g>
<!-- 37&#45;&gt;35 -->
<g id="edge59" class="edge">
<title>37&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M1938.0773,-3072.1164C1946.8043,-3128.4309 1970.6986,-3221.8864 2035.1824,-3265.6 2145.245,-3340.2116 6412.0739,-3381.8349 7175.0344,-3388.6885"/>
<polygon fill="none" stroke="#000000" points="7175.1284,-3399.1897 7205.221,-3388.9579 7175.3159,-3378.1905 7175.1284,-3399.1897"/>
</g>
</g>
</svg>
